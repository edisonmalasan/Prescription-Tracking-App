<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register - Prescription Tracking App</title>
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Prescription Tracking App</h1>

      <div class="form-section">
        <h2>Register</h2>
        <form id="registrationForm">
          <input
            type="text"
            id="firstName"
            placeholder="First Name"
            required
          /><br />
          <input
            type="text"
            id="lastName"
            placeholder="Last Name"
            required
          /><br />
          <input
            type="email"
            id="regEmail"
            placeholder="Email"
            required
          /><br />
          <input
            type="password"
            id="regPassword"
            placeholder="Password"
            required
          /><br />
          <input
            type="password"
            id="confirmPassword"
            placeholder="Confirm Password"
            required
          /><br />
          <select id="regRole">
            <option value="PATIENT">Patient</option>
            <option value="DOCTOR">Doctor</option>
            <option value="PHARMACY">Pharmacy</option>
            <option value="ADMIN">Admin</option></select
          ><br />
          <input
            type="text"
            id="phoneNumber"
            placeholder="Phone Number"
          /><br />
          <!-- Role-specific fields (hidden by default) -->
          <div id="patientFields" class="role-fields">
            <label
              >Birth Date: <input type="date" id="patientBirthDate" /></label
            ><br />
          </div>
          <div id="doctorFields" class="role-fields" style="display: none">
            <label>Birth Date: <input type="date" id="doctorBirthDate" /></label
            ><br />
            <label
              >Specialization:
              <input
                type="text"
                id="doctorSpecialization"
                placeholder="Specialization" /></label
            ><br />
            <label
              >PRC License:
              <input
                type="text"
                id="doctorLicense"
                placeholder="PRC License" /></label
            ><br />
            <label
              >Clinic Name:
              <input
                type="text"
                id="clinicName"
                placeholder="Clinic Name" /></label
            ><br />
          </div>
          <div id="pharmacyFields" class="role-fields" style="display: none">
            <label
              >Pharmacy Name:
              <input
                type="text"
                id="pharmacyName"
                placeholder="Pharmacy Name" /></label
            ><br />
            <label
              >Pharmacy License:
              <input
                type="text"
                id="pharmacyLicense"
                placeholder="Pharmacy License" /></label
            ><br />
            <label>Open Time: <input type="time" id="openTime" /></label><br />
            <label>Close Time: <input type="time" id="closeTime" /></label
            ><br />
          </div>
          <label>
            <input type="checkbox" id="agreeTerms" required />
            I agree to the Terms of Service and Privacy Policy </label
          ><br />
          <button type="submit">Register</button>
        </form>
        <div id="registrationMessage"></div>
      </div>

      <div class="form-section">
        <p>Already have an account? <a href="login.html">Login here</a></p>
      </div>
    </div>

    <script src="./assets/js/auth.js"></script>
    <script>
      document
        .getElementById("regRole")
        .addEventListener("change", function () {
          document.querySelectorAll(".role-fields").forEach((field) => {
            field.style.display = "none";
          });

          const selectedRole = this.value;
          if (selectedRole === "PATIENT") {
            document.getElementById("patientFields").style.display = "block";
          } else if (selectedRole === "DOCTOR") {
            document.getElementById("doctorFields").style.display = "block";
          } else if (selectedRole === "PHARMACY") {
            document.getElementById("pharmacyFields").style.display = "block";
          }
        });
    </script>
  </body>
</html>
